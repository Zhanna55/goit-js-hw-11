{"mappings":"AACA,MAGMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,YAAaF,SAASC,cAAc,cACpCE,QAASH,SAASC,cAAc,aAElCH,EAAKC,WAAWK,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBACFC,EAAiBC,MAAQH,EAAEI,cAAcC,SAASC,YAAYC,MAC9DL,EAAiBM,YACjBN,EAAiBO,cAAcC,KAAKC,E,IANtClB,EAAKI,YAAYE,iBAAiB,SAQlC,WACEG,EAAiBO,cAAcC,MAAKE,GAAQC,QAAQC,IAAIF,I,IAR1D,MAAMV,EAAmB,ICRV,MAKbO,cACEI,QAAQC,IAAIC,MACZ,MAAMC,EAAM,qEAAgCD,KAAKT,wFAAwFS,KAAKE,OAC9I,OAAOC,MAAMF,GACVN,MAAKS,GAAKA,EAAEC,SACZV,MAAKW,IACJN,KAAKO,gBACLT,QAAQC,IAAIO,GACLA,EAAKT,O,CAmClBU,gBACEP,KAAKE,MAAQ,C,CAEfT,YACEO,KAAKE,KAAO,C,CAEVd,YACF,OAAOY,KAAKT,W,CAEVH,UAAMoB,GACRR,KAAKT,YAAciB,C,CAzDrBC,cACET,KAAKT,YAAc,GACnBS,KAAKE,KAAO,C,GDehB,SAASN,EAAiBc,GACxB,MAAMC,EAASD,EACZE,KAAIC,GACI,6CACKA,EAAMC,0CAA0CD,EAAME,sBAAsBF,EAAMG,gBAAgBH,EAAMG,2IAG1EH,EAAMI,oHAGKJ,EAAMK,oIAGHL,EAAMM,wIAGLN,EAAMO,oEAKhEC,KAAK,IACR3C,EAAKK,QAAQuC,mBAAmB,YAAaX,E","sources":["src/index.js","src/js/pixabayApiImages.js"],"sourcesContent":["import PixabayApiImages from './js/pixabayApiImages';\nconst API_KEY = '31907236-eb812238183566cc0aa91bf3c';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  loadMoreBtn: document.querySelector('.load-more'),\n  gallery: document.querySelector('.gallery'),\n};\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\nconst pixabayApiImages = new PixabayApiImages();\nfunction onSearch(e) {\n  e.preventDefault();\n  pixabayApiImages.query = e.currentTarget.elements.searchQuery.value;\n  pixabayApiImages.resetPage();\n  pixabayApiImages.fetchImages().then(renderImagesList);\n}\nfunction onLoadMore() {\n  pixabayApiImages.fetchImages().then(hits => console.log(hits));\n}\nfunction renderImagesList(images) {\n  const markup = images\n    .map(image => {\n      return `<div class=\"photo-card\">\n       <a href=\"${image.largeImageURL}\"><img class=\"photo\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\" loading=\"lazy\"/></a>\n        <div class=\"info\">\n           <p class=\"info-item\">\n    <b>Likes</b> <span class=\"info-item-api\"> ${image.likes} </span>\n</p>\n            <p class=\"info-item\">\n                <b>Views</b> <span class=\"info-item-api\">${image.views}</span>  \n            </p>\n            <p class=\"info-item\">\n                <b>Comments</b> <span class=\"info-item-api\">${image.comments}</span>  \n            </p>\n            <p class=\"info-item\">\n                <b>Downloads</b> <span class=\"info-item-api\">${image.downloads}</span> \n            </p>\n        </div>\n    </div>`;\n    })\n    .join('');\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n","const API_KEY = '31907236-eb812238183566cc0aa91bf3c';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport default class PixabayApiImages {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n  fetchImages() {\n    console.log(this);\n    const url = `${BASE_URL}?key=${API_KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n    return fetch(url)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n        console.log(data);\n        return data.hits;\n      });\n  }\n  //   async fetchImages() {\n  //     try {\n  //       const url = `${BASE_URL}?key=${API_KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n  //       const response = await fetch(url);\n  //       const images = await response.json();\n  //       return images;\n  //     } catch (error) {\n  //       console.log(error.message);\n  //     }\n  //   }\n  // return await fetch(url)\n  //   .then(async response => {\n  // if (!response.ok) {\n  //   if (response.status === 400) {\n  //     Notiflix.Notify.failure(\n  //       \"We're sorry, but you've reached the end of search results.\"\n  //     );\n  //     loadMoreBtn.hide();\n  //     return [];\n  //   }\n\n  //   throw new Error(response.status);\n  // }\n  //     return await response.json().then(data => {\n  //       this.incrementPage();\n  //       return data;\n  //     });\n  //   })\n  //   .catch(error => {\n  //     console.error(error);\n  //   });\n\n  incrementPage() {\n    this.page += 1;\n  }\n  resetPage() {\n    this.page = 1;\n  }\n  get query() {\n    return this.searchQuery;\n  }\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","loadMoreBtn","gallery","addEventListener","e","preventDefault","$1f0dc3b9307be026$var$pixabayApiImages","query","currentTarget","elements","searchQuery","value","resetPage","fetchImages","then","$1f0dc3b9307be026$var$renderImagesList","hits","console","log","this","url","page","fetch","r","json","data","incrementPage","newQuery","constructor","images","markup","map","image","largeImageURL","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML"],"version":3,"file":"index.1bc925a8.js.map"}